const loveMessages = [
  {
  message: "Hola chicos!! Vaya d√≠a m√°s especial y qu√© suerte compartirlo con vosotros :) Ten√≠amos much√≠simas ganas de este momento y ha llegado tan r√°pido... Queremos dejaros un regalito, o m√°s bien 12 regalitos que se ir√°n desbloqueando cada mes...estad atentos a esta p√°gina ;) As√≠ que para este primer regalo, queremos potenciar vuestro lado m√°s art√≠stico y que os dej√©is llevar por una tarde relajada con unas copitas (que esperamos que os beb√°is en nuestro honor!). Entrad en la p√°gina de www.pintaybrinda.com e introducid los c√≥digos CE0YT1X5YY5182WW y DU25DKDMR5DU2R80 para poder elegir un cuadro que pintar con una degustaci√≥n de vinos :) Esperamos que lo disfrut√©is much√≠simo! Nos vemos el mes que viene con vuestra pr√≥xima sorpresa... que tendr√° un toque de terror acorde a la √©poca del a√±o mouahaha",
  comment: "Una foto cualquiera de todos :)",
  imagePath: "images/day1.jpg"
  },
  {
  message: `¬°¬°Hola chicos!! Parece que fue ayer, pero ya ha pasado un mes desde vuestra boda, as√≠ que, ¬°feliz mesversario! :) Qu√© bien nos lo pasamos y cuant√≠simo nos pudimos re√≠r. A los dos os levantaron y bailasteis por los aires, Javi con su traje e In√©s con su vestido blanco...
Pero octubre es un mes mucho m√°s oscuro. Durante este mes hab√©is viajado a Jap√≥n y hasta hab√©is visitado un hospital (y m√°s cosas que no nos habr√©is contado). Esto es normal porque octubre es... ü¶áü¶áel mes de las cosas que dan miedoü¶áü¶á, y de las que a veces hay que escapar.
Por eso, nuestro regalo del mes de octubre es... ¬°una escape room de miedo!
Esperamos que la disfrut√©is much√≠simo y que consig√°is salir con vida...
Para conseguirlo, tendr√©is que poner a prueba todos vuestros sentidos. El Escape Room es INFRAMUNDO, ten√©is un bono para 2 jugadores v√°lido hasta el 20.10.2025. Solo tendr√©is que escribir al correo administracion@getoutescaperoom.es o al whatsapp del n√∫mero 648 878 455 para canjear vuestro bono con n√∫mero 2110. 
üéÉ¬°Bienvenidos a la Spooky Season!üéÉ
Nos vemos el mes que viene con una sorpresa que tendr√° un toque fresquito acorde con la √©poca del a√±o‚ùÑÔ∏è`,
  comment: "Ni siquiera una pandemia se iba a interponer entre nosotros!",
  imagePath: "images/day2.jpg"
  },
  {
  message: `<p>¬°¬°Hola chicos!! Parece que fue anteayer, pero ya han pasado dos meses desde vuestra boda, [tercer d√≠a 28 desde vuestra boda incluyendo el propio d√≠a de la boda o segundo sin incluirlo, segundo mensiversario, primer QR (es siempre el mismo), tercera entrada de la p√°gina (que no "a la p√°gina", puesto que hab√©is entrado m√°s veces), en resumen: acab√°is de entrar a la p√°gina, despu√©s de muchas veces de entrar, para ver, por primera vez, la tercera entrada de la p√°gina]. S√≠ s√≠, estos textos los vamos escribiendo como va pasando el tiempo para que est√©n actualizados cuando los le√°is.</p>
<p>Antes de seguir leyendo, tened a mano la caja (¬°LA CAJA, LA CAJA!) para abrirla cuando y s√≥lo cuando este texto, que ahora tiene jurisdicci√≥n sobre vuestros actos, os lo indique.</p>
<p>Noviembre es el mes de que se empiece a hacer de noche superpronto. Antes tambi√©n era el mes en que llegaba el fr√≠o, pero ahora con el cambio clim√°tico simplemente s√≥lo se hace de noche antes. Aun as√≠, las costumbres no hay que perderlas aunque las condiciones clim√°ticas cambien, as√≠ que pod√©is poner el aire acondicionado (o abrir las ventanas de casa durante unas 72 h para un enfriamiento de la casa m√°s progresivo), elegir una de las pelis que os sugerimos a continuaci√≥n y arroparos en el sof√° para verla con la preciosa XXXXX (palabra censurada para no hacer esp√≥iler de lo que hay en la caja) que os hemos regalado. Ahora ya pod√©is abrir la caja (¬°LA CAJA, LA CAJA!).</p>`,
  comment: `<p>Pelis en general:</p>
<p>-The wild robot (la recomend√≥ Alba)</p>
<p>-Eduardo Manostijeras (clasicazo) [Disney+]</p>
<p>-La llegada (no s√© si la habr√°n visto, va de extraterrestres y una ling√ºista que intenta comunicarse con ellos, es rara pero es cl√°sica) [Netflix]</p>
<p>-La terminal</p>
<p>-Princesa por sorpresa</p>
<p>-Ahora me ves</p>

<p>Musicales:</p>
<p>-El gran showman</p>
<p>-Moulin rouge</p>
<p>-Into the woods (no recuerdo si a In√©s le encanta o la odia)</p>
<p>-La la land</p>

<p>Navide√±as tipo sobremesa de la 3:</p>
<p>-Jingle all the way (un padre en apuros)</p>
<p>-Solo en casa</p>
<p>-Bad santa</p>

<p>Comedias rom√°nticas:</p>
<p>-The holiday</p>
<p>-About Time</p>
<p>-Last Christmas</p>
<p>-Let it snow</p>
<p>-Happiest Season</p>
<p>-Single All the Way</p>
<p>-Jingle Jangle: A Christmas Journey</p>
<p>-The Knight Before Christmas</p>
<p>-Nos vemos la pr√≥xima Navidad [Netflix] (es de 2024 y seguro que no la han visto)</p>
<p>-Navidades en California</p>
<p>-Un pr√≠ncipe de Navidad</p>
<p>-La t√≠pica Navidad</p>
<p>-El caballero de la navidad</p>
<p>-Noche de fin de a√±o</p>
<p>-Como perder a un hombre en 10 dias</p>

<p>Animaci√≥n:</p>
<p>-Polar Express</p>
<p>-Pesadilla antes de Navidad</p>
<p>-Klaus</p>`,
  imagePath: "images/day3.jpg"
  },
  {
  message: "Diciembre",
  comment: "Diciembre",
  imagePath: "images/day4.jpg"
  },
  {
  message: "Enero",
  comment: "Enero",
  imagePath: "images/day5.jpg"
  },
  {
  message: "Febrero",
  comment: "Febrero",
  imagePath: "images/day6.jpg"
  },
  {
  message: "Marzo",
  comment: "Marzo",
  imagePath: "images/day7.jpg"
  },
  {
  message: "Abril",
  comment: "Abril",
  imagePath: "images/day8.jpg"
  },
  {
  message: "Mayo",
  comment: "Mayo",
  imagePath: "images/day9.jpg"
  },
  {
  message: "Junio",
  comment: "Junio",
  imagePath: "images/day10.jpg"
  },
  {
  message: "Julio",
  comment: "Juio",
  imagePath: "images/day11.jpg"
  },
  {
  message: "Agosto",
  comment: "Agosto",
  imagePath: "images/day12.jpg"
  },
  {
  message: "Septiembre",
  comment: "Septiembre",
  imagePath: "images/day13.jpg"
  },
  {
  message: "Fin",
  comment: "Fin",
  imagePath: "images/day14.jpg"
  },
  {
  message: "Fin",
  comment: "Fin",
  imagePath: "images/day15.jpg"
  }
  ];
  
  const totalMonths = 13; // 13 mois de contenu
  const loveMessageElement = document.getElementById("loveMessage");
  const daysLeftElement = document.getElementById("daysLeft");
  const loveLetterElement = document.getElementById("loveLetter");
  const finalImage = document.getElementById("finalImage");
  const firstDayButton = document.getElementById("firstDayBtn");
  const prevDayButton = document.getElementById("prevDayBtn");
  const nextDayButton = document.getElementById("nextDayBtn");
  const currentDate = new Date();


  
  // Date de d√©but : 28 septembre 2024
  const startDate = new Date(2024, 8, 28); // Mois index√© √† 0 (8 = septembre)
  
  let monthsPassed = currentDate.getMonth() - startDate.getMonth() + 
                     (12 * (currentDate.getFullYear() - startDate.getFullYear()));
  
  // Si la date actuelle est avant le 28 du mois, le mois n'est pas encore d√©bloqu√©
  if (currentDate.getDate() < 28) {
    monthsPassed--;
  }
  
  if (monthsPassed < 0) monthsPassed = 0; // Si la date actuelle est avant le 28 septembre 2024
  if (monthsPassed >= totalMonths) monthsPassed = totalMonths - 1; // Limite aux 13 mois disponibles
  
  let currentMonthDisplayed = monthsPassed + 1; // Initialise au mois d√©bloqu√© courant

function displayLoveMessage(month) {
  const messageIndex = month - 1;
  const message = loveMessages[messageIndex];

  // Afficher le message et l'image du mois correspondant
  loveMessageElement.innerHTML = message.message;
  daysLeftElement.textContent = `Mes: ${month} de ${totalMonths}`;

  const imageElement = document.createElement("img");
  imageElement.src = message.imagePath;
  imageElement.alt = `Month ${month} Image`;
  imageElement.className = "loveImage";

  const commentElement = document.createElement("p");
  commentElement.innerHTML = message.comment;
  commentElement.className = "imageComment";

  // Supprimer l'ancienne image et commentaire s'ils existent
  const existingImage = document.querySelector(".loveImage");
  const existingComment = document.querySelector(".imageComment");
  if (existingImage) existingImage.remove();
  if (existingComment) existingComment.remove();

  const imageContainer = document.getElementById("imageContainer");
  imageContainer.appendChild(imageElement);
  imageContainer.appendChild(commentElement);

  // Gestion de l'affichage des boutons "Next" et "Prev"
  prevDayButton.style.display = month > 1 ? "inline-block" : "none";
  nextDayButton.style.display = month < monthsPassed + 1 ? "inline-block" : "none";

  // Afficher ou cacher le bouton "Back to First Month" (visible sauf si on est d√©j√† au mois 1)
  firstMonthBtn.style.display = month > 1 ? "inline-block" : "none";
  
  // Cacher l'image finale au d√©but
  finalImage.style.display = "none";
}

// Gestionnaire pour le bouton "Jour pr√©c√©dent"
prevDayButton.addEventListener("click", () => {
  if (currentMonthDisplayed > 1) {
    currentMonthDisplayed--; // R√©duire le mois affich√©
    displayLoveMessage(currentMonthDisplayed);
  }
});

// Gestionnaire pour le bouton "Jour suivant"
nextDayButton.addEventListener("click", () => {
  if (currentMonthDisplayed < monthsPassed + 1) {
    currentMonthDisplayed++; // Incr√©menter le mois affich√©
    displayLoveMessage(currentMonthDisplayed);
  }
});

// Gestionnaire pour le bouton "Retour au premier jour"
firstMonthBtn.addEventListener("click", () => {
  currentMonthDisplayed = 1; // R√©initialiser √† 1
  displayLoveMessage(currentMonthDisplayed);
});

// Initialiser en affichant le mois correspondant √† l'√©tat actuel d√©bloqu√©
displayLoveMessage(currentMonthDisplayed);
