const loveMessages = [
  {
  message: "Hola chicos!! Vaya día más especial y qué suerte compartirlo con vosotros :) Teníamos muchísimas ganas de este momento y ha llegado tan rápido... Queremos dejaros un regalito, o más bien 12 regalitos que se irán desbloqueando cada mes...estad atentos a esta página ;) Así que para este primer regalo, queremos potenciar vuestro lado más artístico y que os dejéis llevar por una tarde relajada con unas copitas (que esperamos que os bebáis en nuestro honor!). Entrad en la página de www.pintaybrinda.com e introducid los códigos CE0YT1X5YY5182WW y DU25DKDMR5DU2R80 para poder elegir un cuadro que pintar con una degustación de vinos :) Esperamos que lo disfrutéis muchísimo! Nos vemos el mes que viene con vuestra próxima sorpresa... que tendrá un toque de terror acorde a la época del año mouahaha",
  comment: "Una foto cualquiera de todos :)",
  imagePath: "images/day1.jpg"
  },
  {
  message: `¡¡Hola chicos!! Parece que fue ayer, pero ya ha pasado un mes desde vuestra boda, así que, ¡feliz mesversario! :) Qué bien nos lo pasamos y cuantísimo nos pudimos reír. A los dos os levantaron y bailasteis por los aires, Javi con su traje e Inés con su vestido blanco...
Pero octubre es un mes mucho más oscuro. Durante este mes habéis viajado a Japón y hasta habéis visitado un hospital (y más cosas que no nos habréis contado). Esto es normal porque octubre es... 🦇🦇el mes de las cosas que dan miedo🦇🦇, y de las que a veces hay que escapar.
Por eso, nuestro regalo del mes de octubre es... ¡una escape room de miedo!
Esperamos que la disfrutéis muchísimo y que consigáis salir con vida...
Para conseguirlo, tendréis que poner a prueba todos vuestros sentidos. El Escape Room es INFRAMUNDO, tenéis un bono para 2 jugadores válido hasta el 20.10.2025. Solo tendréis que escribir al correo administracion@getoutescaperoom.es o al whatsapp del número 648 878 455 para canjear vuestro bono con número 2110. 
🎃¡Bienvenidos a la Spooky Season!🎃
Nos vemos el mes que viene con una sorpresa que tendrá un toque fresquito acorde con la época del año❄️`,
  comment: "Ni siquiera una pandemia se iba a interponer entre nosotros!",
  imagePath: "images/day2.jpg"
  },
  {
  message: `<p>¡¡Hola chicos!! Parece que fue anteayer, pero ya han pasado dos meses desde vuestra boda, [tercer día 28 desde vuestra boda incluyendo el propio día de la boda o segundo sin incluirlo, segundo mensiversario, primer QR (es siempre el mismo), tercera entrada de la página (que no "a la página", puesto que habéis entrado más veces), en resumen: acabáis de entrar a la página, después de muchas veces de entrar, para ver, por primera vez, la tercera entrada de la página]. Sí sí, estos textos los vamos escribiendo como va pasando el tiempo para que estén actualizados cuando los leáis.</p>
<p>Antes de seguir leyendo, tened a mano la caja (¡LA CAJA, LA CAJA!) para abrirla cuando y sólo cuando este texto, que ahora tiene jurisdicción sobre vuestros actos, os lo indique.</p>
<p>Noviembre es el mes de que se empiece a hacer de noche superpronto. Antes también era el mes en que llegaba el frío, pero ahora con el cambio climático simplemente sólo se hace de noche antes. Aun así, las costumbres no hay que perderlas aunque las condiciones climáticas cambien, así que podéis poner el aire acondicionado (o abrir las ventanas de casa durante unas 72 h para un enfriamiento de la casa más progresivo), elegir una de las pelis que os sugerimos a continuación y arroparos en el sofá para verla con la preciosa XXXXX (palabra censurada para no hacer espóiler de lo que hay en la caja) que os hemos regalado. Ahora ya podéis abrir la caja (¡LA CAJA, LA CAJA!).</p>`,
  comment: `<p>Pelis en general:</p>
<p>-The wild robot (la recomendó Alba)</p>
<p>-Eduardo Manostijeras (clasicazo) [Disney+]</p>
<p>-La llegada (no sé si la habrán visto, va de extraterrestres y una lingüista que intenta comunicarse con ellos, es rara pero es clásica) [Netflix]</p>
<p>-La terminal</p>
<p>-Princesa por sorpresa</p>
<p>-Ahora me ves</p>

<p>Musicales:</p>
<p>-El gran showman</p>
<p>-Moulin rouge</p>
<p>-Into the woods (no recuerdo si a Inés le encanta o la odia)</p>
<p>-La la land</p>

<p>Navideñas tipo sobremesa de la 3:</p>
<p>-Jingle all the way (un padre en apuros)</p>
<p>-Solo en casa</p>
<p>-Bad santa</p>

<p>Comedias románticas:</p>
<p>-The holiday</p>
<p>-About Time</p>
<p>-Last Christmas</p>
<p>-Let it snow</p>
<p>-Happiest Season</p>
<p>-Single All the Way</p>
<p>-Jingle Jangle: A Christmas Journey</p>
<p>-The Knight Before Christmas</p>
<p>-Nos vemos la próxima Navidad [Netflix] (es de 2024 y seguro que no la han visto)</p>
<p>-Navidades en California</p>
<p>-Un príncipe de Navidad</p>
<p>-La típica Navidad</p>
<p>-El caballero de la navidad</p>
<p>-Noche de fin de año</p>
<p>-Como perder a un hombre en 10 dias</p>

<p>Animación:</p>
<p>-Polar Express</p>
<p>-Pesadilla antes de Navidad</p>
<p>-Klaus</p>`,
  imagePath: "images/day3.jpg"
  },
  {
  message: `Hola chicos inocentes!!! Jajajaja seguro que no esperaríais ese texto 😂🤣
Bueno, el tiempo vuela y ya han pasado 3 meses desde vuestra boda! Feliz mesversario!! 🎉🥳
Después de los pilares de octubre y del oscuro noviembre con Halloween incluido 🎃 🦴 llega diciembre, inicio del invierno ☃️☃️, de las decoraciones navideñas 🎄, de las luces, de la alegría por decorar la casa y de celebrar las fiestas con la familia y amigos, además de cantar los villancicos tradicionales, la mítica María Carey que ya desde casi Halloween empieza a asomar la cabeza o el nuevo hit navideño del burrito sabanero de David Bisbal. 🫏🫏 
Seguro que, como buena tradición, decoramos un poco la casa con ese ambiente navideño característico de este mes, y cómo no con un arbolito de navidad. Aunque sea un poco tardano, queremos colaborar con los adornos con el regalo de este mes, podéis abrir la caja 😊...cuando nos veamos. 
 Felices fiestas!!! Os queremos!!`,
  comment: "Quedada de reyes de 2023👑...este día Laura perdió las llaves🔑, Alba y Laura descubrieron que se iban juntas a Lyon 🥖 y Javi nos contó que le iba a pedir matrimonio a Raquel💍!",
  imagePath: "images/day4.jpg"
  },
  {
  message: "Enero",
  comment: "Enero",
  imagePath: "images/day5.jpg"
  },
  {
  message: "Febrero",
  comment: "Febrero",
  imagePath: "images/day6.jpg"
  },
  {
  message: "Marzo",
  comment: "Marzo",
  imagePath: "images/day7.jpg"
  },
  {
  message: "Abril",
  comment: "Abril",
  imagePath: "images/day8.jpg"
  },
  {
  message: "Mayo",
  comment: "Mayo",
  imagePath: "images/day9.jpg"
  },
  {
  message: "Junio",
  comment: "Junio",
  imagePath: "images/day10.jpg"
  },
  {
  message: "Julio",
  comment: "Juio",
  imagePath: "images/day11.jpg"
  },
  {
  message: "Agosto",
  comment: "Agosto",
  imagePath: "images/day12.jpg"
  },
  {
  message: "Septiembre",
  comment: "Septiembre",
  imagePath: "images/day13.jpg"
  },
  {
  message: "Fin",
  comment: "Fin",
  imagePath: "images/day14.jpg"
  },
  {
  message: "Fin",
  comment: "Fin",
  imagePath: "images/day15.jpg"
  }
  ];
  
  const totalMonths = 13; // 13 mois de contenu
  const loveMessageElement = document.getElementById("loveMessage");
  const daysLeftElement = document.getElementById("daysLeft");
  const loveLetterElement = document.getElementById("loveLetter");
  const finalImage = document.getElementById("finalImage");
  const firstDayButton = document.getElementById("firstDayBtn");
  const prevDayButton = document.getElementById("prevDayBtn");
  const nextDayButton = document.getElementById("nextDayBtn");
  const currentDate = new Date();


  
  // Date de début : 28 septembre 2024
  const startDate = new Date(2024, 8, 28); // Mois indexé à 0 (8 = septembre)
  
  let monthsPassed = currentDate.getMonth() - startDate.getMonth() + 
                     (12 * (currentDate.getFullYear() - startDate.getFullYear()));
  
  // Si la date actuelle est avant le 28 du mois, le mois n'est pas encore débloqué
  if (currentDate.getDate() < 28) {
    monthsPassed--;
  }
  
  if (monthsPassed < 0) monthsPassed = 0; // Si la date actuelle est avant le 28 septembre 2024
  if (monthsPassed >= totalMonths) monthsPassed = totalMonths - 1; // Limite aux 13 mois disponibles
  
  let currentMonthDisplayed = monthsPassed + 1; // Initialise au mois débloqué courant

function displayLoveMessage(month) {
  const messageIndex = month - 1;
  const message = loveMessages[messageIndex];

  // Afficher le message et l'image du mois correspondant
  loveMessageElement.innerHTML = message.message;
  daysLeftElement.textContent = `Mes: ${month} de ${totalMonths}`;

  const imageElement = document.createElement("img");
  imageElement.src = message.imagePath;
  imageElement.alt = `Month ${month} Image`;
  imageElement.className = "loveImage";

  const commentElement = document.createElement("p");
  commentElement.innerHTML = message.comment;
  commentElement.className = "imageComment";

  // Supprimer l'ancienne image et commentaire s'ils existent
  const existingImage = document.querySelector(".loveImage");
  const existingComment = document.querySelector(".imageComment");
  if (existingImage) existingImage.remove();
  if (existingComment) existingComment.remove();

  const imageContainer = document.getElementById("imageContainer");
  imageContainer.appendChild(imageElement);
  imageContainer.appendChild(commentElement);

  // Gestion de l'affichage des boutons "Next" et "Prev"
  prevDayButton.style.display = month > 1 ? "inline-block" : "none";
  nextDayButton.style.display = month < monthsPassed + 1 ? "inline-block" : "none";

  // Afficher ou cacher le bouton "Back to First Month" (visible sauf si on est déjà au mois 1)
  firstMonthBtn.style.display = month > 1 ? "inline-block" : "none";
  
  // Cacher l'image finale au début
  finalImage.style.display = "none";
}

// Gestionnaire pour le bouton "Jour précédent"
prevDayButton.addEventListener("click", () => {
  if (currentMonthDisplayed > 1) {
    currentMonthDisplayed--; // Réduire le mois affiché
    displayLoveMessage(currentMonthDisplayed);
  }
});

// Gestionnaire pour le bouton "Jour suivant"
nextDayButton.addEventListener("click", () => {
  if (currentMonthDisplayed < monthsPassed + 1) {
    currentMonthDisplayed++; // Incrémenter le mois affiché
    displayLoveMessage(currentMonthDisplayed);
  }
});

// Gestionnaire pour le bouton "Retour au premier jour"
firstMonthBtn.addEventListener("click", () => {
  currentMonthDisplayed = 1; // Réinitialiser à 1
  displayLoveMessage(currentMonthDisplayed);
});

// Initialiser en affichant le mois correspondant à l'état actuel débloqué
displayLoveMessage(currentMonthDisplayed);
